<html lang="en">
<head>
    <link rel="stylesheet" href="board.css">
    <title>CHESSBOARD</title>
</head>

<header>

</header>

<!-- ENGINE BUTTON, THIS WILL APPEAR BELOW THE NAVBAR AND ABOVE THE CHESSBOARD IF YOU UNCOMMENT THIS -->
<!-- <div style="display: left;" id="button2">
    <button id="run_button2" onclick="instring()">=</button>
</div> -->

<div class="cringe">
    <div class="blackout">

    </div>
</div>

<div class="cringe">
    <div class="menu">
        <div class="whiteOption">
            <img src="./pieces_data/Chess_klt60.png" alt="white king" class="d_image" onclick="dont_flip()"/>
        </div>
        <div class="blackOption">
            <img src="./pieces_data/Chess_kdt60.png" alt="white king" class="d_image" onclick="flip_board()"/>
        </div>
    </div>
</div>


<div class="container">

    <div class="chessarea" id="chessarea"></div>
</div>


<script src="board.js"></script>

<script>

    //Testing for fen strings
    function run_ws() {
        let instance = new Module["chessGame"];
        console.log('Fen default result: ' + instance["playTurn"]("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"));
        console.log('fen result: ' + fen());
        console.log('Our fen result: ' + instance["playTurn"](fen()));
    };

    //Calls the engine to do a move
    function instring() {
        let instance = new Module["chessGame"];
        fenin(instance["playTurn"](fen()));
    }

    /* Since white is the default color, we don't need to flip the board, just get rid of the
       menu that pops up. */
    function dont_flip() {
        /* Finding the Menu and blacked out background and hiding them once function is called */
        let total = document.querySelector('.cringe');
        let menu = document.querySelector('.menu');

        total.classList.add('hidden');
        menu.classList.add('hidden');
    }

    //Flips the board, called by a button
    function flip_board() {
        /* Finding the Menu and blacked out background and hiding them once function is called */
        let total = document.querySelector('.cringe');
        let menu = document.querySelector('.menu');

        total.classList.add('hidden');
        menu.classList.add('hidden');

        /* Flip the board baby*/
        flip_b();
    }

</script>
<script src="chess.js"></script>
<script type="text/javascript" src="fen.js"></script>

</html>